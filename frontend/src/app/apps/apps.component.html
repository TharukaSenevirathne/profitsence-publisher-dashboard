<div class="apps-page">
  <div class="page-inner">
    <div class="page-header">
      <h1 class="page-title">{{ appPackageName }}</h1>
      <button class="btn-create-ad-unit" (click)="openCreateModal()">Create Ad Unit</button>
    </div>

    <div class="table-wrapper">
      <table class="reports-table">
        <thead>
          <tr>
            <th class="col-website">Ad Unit</th>
            <th class="col-website">Code</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of adUnits">
            <td class="col-website">{{ item.unit }}</td>
            <td class="col-website code-cell">
              <span *ngIf="isPending(item.code)" class="code-pending">{{ item.code }}</span>
              <ng-container *ngIf="!isPending(item.code)">
                <code>{{ item.code }}</code>
                <button class="copy-btn" (click)="copyCode(item.code)" title="Copy">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                  </svg>
                </button>
              </ng-container>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <p class="info-text">
      You will get ad codes within 24 hours after creating. If you need any help please contact your account manager or send an email to <a href="mailto:info&#64;profitsence.com">info&#64;profitsence.com</a>
    </p>

    <div class="developer-note">
      <p><strong>Note for Developers:</strong></p>
      <p>We need to upload the code by ourself once the publishers created request.</p>
      <p>By publisher clicking create "ad unit" we need to show below options. The publishers can create same option multiple times.</p>
      <p><strong>Options:</strong> Banner, Interstitial, AppOpen, Native and Rewarded</p>
    </div>
  </div>

  <div *ngIf="showCreateModal" class="modal-backdrop">
    <div class="modal">
      <div class="modal-header">
        <h2>Create Ad Unit</h2>
        <button class="close-btn" (click)="closeCreateModal()">&#10005;</button>
      </div>
      <div class="modal-body">
        <label class="modal-label">Ad Unit Type</label>
        <select class="select-dropdown" #adUnitSelect>
          <option *ngFor="let opt of adUnitOptions" [value]="opt">{{ opt }}</option>
        </select>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" (click)="closeCreateModal()">Cancel</button>
        <button class="btn-submit" (click)="closeCreateModal()">Create</button>
      </div>
    </div>
  </div>
</div>
